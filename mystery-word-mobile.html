<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mystery Word Game</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0; padding: 0; 
    background: #f0f8ff;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    padding: 15px;
  }
  h1 {
    margin-bottom: 10px;
  }
  #emoji {
    font-size: 6rem;
    margin: 20px 0;
  }
  #word {
    font-size: 2.5rem;
    letter-spacing: 0.3em;
    margin-bottom: 20px;
  }
  #keyboard {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    max-width: 400px;
    margin-bottom: 20px;
  }
  .key {
    background: #4a90e2;
    color: white;
    margin: 4px;
    border-radius: 6px;
    width: 36px;
    height: 46px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    user-select: none;
    font-weight: bold;
    font-size: 1.3rem;
    transition: background 0.3s;
  }
  .key:active {
    background: #357ABD;
  }
  .key.disabled {
    background: #999;
    cursor: default;
  }
  #lives {
    font-size: 1.5rem;
    margin-bottom: 10px;
  }
  #score {
    font-size: 1.3rem;
    margin-bottom: 15px;
  }
  #message {
    font-size: 1.5rem;
    margin: 15px 0;
    color: #333;
    min-height: 40px;
  }
  #newGameBtn {
    padding: 10px 20px;
    font-size: 1.2rem;
    background-color: #4caf50;
    border: none;
    color: white;
    border-radius: 8px;
    cursor: pointer;
  }
  #newGameBtn:hover {
    background-color: #45a049;
  }
  @media (max-width: 480px) {
    #word {
      font-size: 2rem;
      letter-spacing: 0.2em;
    }
    .key {
      width: 30px;
      height: 40px;
      font-size: 1.1rem;
      margin: 3px;
    }
  }
</style>
</head>
<body>
  <h1>üé≠ Mystery Word Game</h1>
  <div id="score">Score: 0</div>
  <div id="lives">Lives: ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
  <div id="emoji">‚ùì</div>
  <div id="word"></div>
  <div id="keyboard"></div>
  <div id="message"></div>
  <button id="newGameBtn" style="display:none;">Nouvelle Partie</button>

<script>
(() => {
  // 200 word-emoji pairs
  const pairs = [
    ["dog","üê∂"],["cat","üê±"],["lion","ü¶Å"],["tiger","üêØ"],["bear","üêª"],["panda","üêº"],["koala","üê®"],["frog","üê∏"],["fox","ü¶ä"],["rabbit","üê∞"],
    ["pig","üê∑"],["cow","üêÆ"],["chicken","üêî"],["penguin","üêß"],["bird","üê¶"],["duck","ü¶Ü"],["eagle","ü¶Ö"],["owl","ü¶â"],["horse","üê¥"],["monkey","üêµ"],
    ["apple","üçé"],["banana","üçå"],["watermelon","üçâ"],["grape","üçá"],["strawberry","üçì"],["cherry","üçí"],["pineapple","üçç"],["mango","ü•≠"],["peach","üçë"],["kiwi","ü•ù"],
    ["burger","üçî"],["fries","üçü"],["pizza","üçï"],["hotdog","üå≠"],["sandwich","ü•™"],["salad","ü•ó"],["ramen","üçú"],["spaghetti","üçù"],["sushi","üç£"],["donut","üç©"],
    ["coffee","‚òï"],["beer","üç∫"],["wine","üç∑"],["soda","ü•§"],["juice","üßÉ"],["milk","ü•õ"],["cocktail","üç∏"],["tea","üçµ"],["water","üíß"],["milkshake","ü•§"],
    ["tree","üå≥"],["pine","üå≤"],["palm","üå¥"],["cactus","üåµ"],["sunflower","üåª"],["flower","üåº"],["blossom","üå∏"],["rose","üåπ"],["hibiscus","üå∫"],["maple","üçÅ"],
    ["leaf","üçÉ"],["snowflake","‚ùÑÔ∏è"],["sun","‚òÄÔ∏è"],["cloud","‚òÅÔ∏è"],["rain","üåßÔ∏è"],["thunder","‚õàÔ∏è"],["lightning","üå©Ô∏è"],["tornado","üå™Ô∏è"],["moon","üåô"],["star","‚≠ê"],
    ["lightbulb","üí°"],["key","üîë"],["lock","üîí"],["phone","üì±"],["laptop","üíª"],["camera","üì∑"],["tv","üì∫"],["printer","üñ®Ô∏è"],["radio","üìª"],["headphones","üéß"],
    ["car","üöó"],["taxi","üöï"],["suv","üöô"],["bus","üöå"],["tram","üöé"],["racecar","üèéÔ∏è"],["policecar","üöì"],["ambulance","üöë"],["firetruck","üöí"],["van","üöê"],
    ["plane","‚úàÔ∏è"],["rocket","üöÄ"],["bicycle","üö≤"],["motorcycle","üèçÔ∏è"],["ship","üö¢"],["anchor","‚öì"],["ball","‚öΩ"],["basketball","üèÄ"],["football","üèà"],["tennis","üéæ"],
    ["smile","üòÄ"],["grin","üòÅ"],["joy","üòÇ"],["rofl","ü§£"],["happy","üòÉ"],["laugh","üòÑ"],["sweat","üòÖ"],["laughing","üòÜ"],["wink","üòâ"],["blush","üòä"],
    ["cool","üòé"],["heart_eyes","üòç"],["kiss","üòò"],["thinking","ü§î"],["neutral","üòê"],["expressionless","üòë"],["unamused","üòí"],["sweat_smile","üòì"],["pensive","üòî"],["confused","üòï"],
    ["love","‚ù§Ô∏è"],["broken_heart","üíî"],["exclamation","‚ùó"],["question","‚ùì"],["star2","üåü"],["boom","üí•"],["fire","üî•"],["droplet","üíß"],["musical_note","üéµ"],["notes","üé∂"],
    // Added more random words with emojis to reach 200 entries
    ["bread","üçû"],["cheese","üßÄ"],["egg","ü•ö"],["meat","ü•©"],["fish","üêü"],["shrimp","üç§"],["octopus","üêô"],["crab","ü¶Ä"],["lobster","ü¶û"],["hotpepper","üå∂Ô∏è"],
    ["carrot","ü•ï"],["potato","ü•î"],["corn","üåΩ"],["mushroom","üçÑ"],["cucumber","ü•í"],["onion","üßÖ"],["garlic","üßÑ"],["broccoli","ü•¶"],["lettuce","ü•¨"],["avocado","ü•ë"],
    ["cake","üç∞"],["cookie","üç™"],["chocolate","üç´"],["candy","üç¨"],["lollipop","üç≠"],["pie","ü•ß"],["pancakes","ü•û"],["waffle","üßá"],["icecream","üç®"],["doughnut","üç©"],
    ["carrot","ü•ï"],["rocket","üöÄ"],["bulb","üí°"],["scissors","‚úÇÔ∏è"],["brush","üñåÔ∏è"],["paint","üé®"],["guitar","üé∏"],["piano","üéπ"],["microphone","üé§"],["headphone","üéß"],
    ["camera","üì∑"],["video","üìπ"],["film","üé¨"],["clapper","üé•"],["phone","üì±"],["computer","üíª"],["keyboard","‚å®Ô∏è"],["mouse","üñ±Ô∏è"],["printer","üñ®Ô∏è"],["disk","üíΩ"],
    ["clock","üï∞Ô∏è"],["alarm","‚è∞"],["watch","‚åö"],["calendar","üìÖ"],["map","üó∫Ô∏è"],["compass","üß≠"],["globe","üåê"],["flag","üö©"],["medal","üèÖ"],["trophy","üèÜ"],
    ["ring","üíç"],["necklace","üìø"],["crown","üëë"],["hat","üé©"],["sunglasses","üï∂Ô∏è"],["shoe","üëü"],["dress","üëó"],["shirt","üëï"],["pants","üëñ"],["bag","üëú"],
    ["door","üö™"],["window","ü™ü"],["bed","üõèÔ∏è"],["couch","üõãÔ∏è"],["table","üõéÔ∏è"],["chair","ü™ë"],["lamp","üí°"],["book","üìñ"],["newspaper","üì∞"],["magazine","üìö"],
    ["sun","‚òÄÔ∏è"],["moon","üåô"],["star","‚≠ê"],["cloud","‚òÅÔ∏è"],["rain","üåßÔ∏è"],["snow","‚ùÑÔ∏è"],["wind","üí®"],["fire","üî•"],["water","üíß"],["earth","üåç"],
    ["mountain","‚õ∞Ô∏è"],["volcano","üåã"],["river","üèûÔ∏è"],["beach","üèñÔ∏è"],["forest","üå≤"],["desert","üèúÔ∏è"],["island","üèùÔ∏è"],["cave","üï≥Ô∏è"],["castle","üè∞"],["house","üè†"],
    ["car","üöó"],["bus","üöå"],["train","üöÜ"],["plane","‚úàÔ∏è"],["boat","‚õµ"],["bike","üö≤"],["motorcycle","üèçÔ∏è"],["truck","üöö"],["rocket","üöÄ"],["helicopter","üöÅ"],
    ["phone","üìû"],["mail","‚úâÔ∏è"],["envelope","üìß"],["package","üì¶"],["creditcard","üí≥"],["money","üí∞"],["wallet","üëõ"],["shopping","üõçÔ∏è"],["cart","üõí"],["gift","üéÅ"],
    ["party","üéâ"],["balloon","üéà"],["cake","üéÇ"],["confetti","üéä"],["fireworks","üéÜ"],["music","üéµ"],["dance","üíÉ"],["game","üéÆ"],["trophy","üèÜ"],["medal","üèÖ"]
  ];

  const alphabet = "abcdefghijklmnopqrstuvwxyz".split("");

  // Game state
  let currentWord = "";
  let currentEmoji = "";
  let displayedWord = [];
  let lives = 3;
  let score = 0;
  let errorsThisWord = 0;
  let gameActive = true;
  let usedIndices = new Set();

  // DOM Elements
  const emojiEl = document.getElementById("emoji");
  const wordEl = document.getElementById("word");
  const keyboardEl = document.getElementById("keyboard");
  const livesEl = document.getElementById("lives");
  const scoreEl = document.getElementById("score");
  const messageEl = document.getElementById("message");
  const newGameBtn = document.getElementById("newGameBtn");

  // Initialize keyboard keys
  function createKeyboard() {
    keyboardEl.innerHTML = "";
    alphabet.forEach(letter => {
      const key = document.createElement("div");
      key.className = "key";
      key.textContent = letter.toUpperCase();
      key.addEventListener("click", () => {
        if(gameActive && !key.classList.contains("disabled")) {
          handleGuess(letter, key);
        }
      });
      keyboardEl.appendChild(key);
    });
  }

  // Start new game
  function newGame() {
    score = 0;
    updateScore();
    newGameBtn.style.display = "none";
    lives = 3;
    updateLives();
    usedIndices.clear();
    nextWord();
    gameActive = true;
    messageEl.textContent = "";
    createKeyboard();
  }

  // Pick next word randomly without repetition
  function nextWord() {
    if(usedIndices.size === pairs.length) {
      // All words done
      messageEl.textContent = "üéâ F√©licitations! Vous avez trouv√© tous les mots!";
      gameActive = false;
      newGameBtn.style.display = "inline-block";
      return;
    }
    let index;
    do {
      index = Math.floor(Math.random() * pairs.length);
    } while (usedIndices.has(index));
    usedIndices.add(index);

    currentWord = pairs[index][0].toLowerCase();
    currentEmoji = pairs[index][1];
    displayedWord = Array(currentWord.length).fill("_");
    errorsThisWord = 0;
    lives = 3;
    updateLives();
    updateWord();
    emojiEl.textContent = currentEmoji;
    messageEl.textContent = "";
    createKeyboard();
  }

  // Update displayed word
  function updateWord() {
    wordEl.textContent = displayedWord.join(" ");
  }

  // Update lives display
  function updateLives() {
    let hearts = "";
    for(let i=0; i<lives; i++) hearts += "‚ù§Ô∏è";
    livesEl.textContent = "Lives: " + hearts;
  }

  // Update score display
  function updateScore() {
    scoreEl.textContent = "Score: " + score;
  }

  // Handle a guessed letter
  function handleGuess(letter, keyEl) {
    keyEl.classList.add("disabled");

    let correctGuess = false;
    for(let i=0; i<currentWord.length; i++) {
      if(currentWord[i] === letter) {
        displayedWord[i] = letter.toUpperCase();
        correctGuess = true;
      }
    }

    if(correctGuess) {
      updateWord();
      keyEl.style.backgroundColor = "#4CAF50"; // green
      keyEl.style.color = "white";
      checkWin();
    } else {
      lives--;
      errorsThisWord++;
      updateLives();
      keyEl.style.backgroundColor = "#f44336"; // red
      keyEl.style.color = "white";
      if(lives === 0) {
        gameOver();
      }
    }
  }

  // Check if player found the word
  function checkWin() {
    if(!displayedWord.includes("_")) {
      // Award points based on errorsThisWord
      if(errorsThisWord === 0) score += 100;
      else if(errorsThisWord === 1) score += 70;
      else score += 30;
      updateScore();

      messageEl.textContent = "‚úÖ Bravo! Le mot est '" + currentWord.toUpperCase() + "'. Nouveau mot...";
      gameActive = false;
      setTimeout(() => {
        if(gameActive === false) {
          gameActive = true;
          nextWord();
        }
      }, 1500);
    }
  }

  // Handle game over
  function gameOver() {
    messageEl.textContent = `‚ùå Perdu! Le mot √©tait "${currentWord.toUpperCase()}".`;
    gameActive = false;
    newGameBtn.style.display = "inline-block";
  }

  // Event listener for new game button
  newGameBtn.addEventListener("click", () => {
    newGame();
  });

  // Initial setup
  newGame();
})();
</script>
</body>
</html>
